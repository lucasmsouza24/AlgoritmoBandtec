<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 12</title>
    <style>

        body {
            font-family: Arial, Helvetica, sans-serif;
        }
        #container {
            width: 70%;
            margin: auto;
        }

        .deposito {
            color: rgb(86, 216, 86);
        }

        .saque {
            color: rgb(231, 89, 89);
        }
    </style>
</head>
<body>

    <div id="container">
        <h1>Cofrinho digital</h1>

        <div id="cofre">Valor guardado no cofrinho: R$ <span id="cofreValor">0.00</span></div> <br>

        Valor a ser depositado: <br>
        <input id="in_val_deposito"> <br><br>

        <button onclick="depositar()">Depositar</button>
        <button onclick="sacar_tudo()">Tirar toda a grana</button>

        <h2>movimentação</h2>
        <div id="historico_saques">
            <p>Quantidade de depósitos feitos: <span id="historico_qtd_depositos">0</span></p>
            <p>Quantidade de saques feitos: <span id="historico_qtd_saques">0</span></p>
        </div>
    </div>
    
</body>
</html>

<script>

    function depositar() {
        // armazenando valor do input
        var valor_deposito = Number(in_val_deposito.value);
        var valor_atual = Number(cofreValor.innerHTML);
        var qtd_depositos = Number(historico_qtd_depositos.innerHTML);
        qtd_depositos++;

        // exibindo novo valor
        cofreValor.innerHTML = (valor_atual + valor_deposito).toFixed(2);

        // adicionando depósito ao histórico
        add_deposito(valor_deposito);
        historico_qtd_depositos.innerHTML = qtd_depositos;

        // limpando input
        in_val_deposito.value = "";
    }

    function sacar_tudo() {
        // verificando quantidiade de saques 
        var qtd_saques = Number(historico_qtd_saques.innerHTML);

        // atualizando quantidade de saques
        qtd_saques++;
        historico_qtd_saques.innerHTML = qtd_saques;

        // adicionando saque ao histórico
        historico_saques.innerHTML += `<p class="saque">saque: R$ ${cofreValor.innerHTML}</p>`;
        cofreValor.innerHTML = (0).toFixed(2);
    }

    function add_deposito(val_deposito) {
        historico_saques.innerHTML += `<p class="deposito">deposito: R$ ${val_deposito.toFixed(2)}</p>`
    }
</script>